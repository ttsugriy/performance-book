project:
  type: book
  output-dir: _site

book:
  title: "The Algebra of Speed"
  subtitle: "Mathematical Foundations of Computational Performance"
  author: "Taras Tsugrii"
  date: today
  repo-url: https://github.com/ttsugriy/performance-book
  repo-actions: [edit, issue]
  sharing: [twitter, linkedin]

  chapters:
    - index.qmd
    - part: "Part I: The Hardware Reality"
      chapters:
        - chapters/01-memory-hierarchy.qmd
        - chapters/02-bandwidth.qmd
        - chapters/03-parallelism.qmd
        - chapters/interlude-measurement.qmd
    - part: "Part II: The Algebra of Efficiency"
      chapters:
        - chapters/04-chunking.qmd
        - chapters/05-factoring.qmd
        - chapters/06-skipping.qmd
        - chapters/07-locality.qmd
        - chapters/08-fusion.qmd
    - part: "Part III: The Investigations"
      chapters:
        - chapters/10-matrix-multiply.qmd
        - chapters/11-flash-attention.qmd
        - chapters/12-lora.qmd
        - chapters/13-quantization.qmd
    - part: "Part IV: The Method"
      chapters:
        - chapters/20-measurement.qmd
        - chapters/21-hypothesis.qmd
        - chapters/22-analogy.qmd
    - part: "Appendices"
      chapters:
        - chapters/glossary.qmd

format:
  html:
    theme:
      light: [cosmo, custom.scss]
      dark: [darkly, custom.scss]
    code-copy: true
    code-fold: false
    code-tools: true
    toc: true
    toc-depth: 3
    number-sections: true
    highlight-style: github
    fig-responsive: true

execute:
  freeze: auto
  cache: true

bibliography: references.bib
csl: ieee.csl

# For Observable JS interactives
ojs: true
